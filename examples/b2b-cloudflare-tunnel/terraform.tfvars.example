# Example terraform.tfvars for B2B Cloudflare Tunnel
# Copy this to terraform.tfvars and fill in your actual values

# ===========================
# Company Information
# ===========================

company_name = "acmetech"
aws_region   = "us-east-1"

# ===========================
# Cloudflare Configuration
# ===========================

# Get these from Cloudflare Dashboard (https://dash.cloudflare.com/)

# API Token: My Profile → API Tokens → Create Token
# Permissions needed: Account - Cloudflare Zero Trust - Edit
cloudflare_api_token = "your-cloudflare-api-token-here"

# Account ID: Zero Trust → Settings → Account ID
cloudflare_account_id = "a1b2c3d4e5f6g7h8i9j0"

# Zone ID: Websites → acmetech.com → Overview → Zone ID (right sidebar)
cloudflare_zone_id = "z9y8x7w6v5u4t3s2r1q0"

# Tunnel Token: Zero Trust → Access → Tunnels → Create tunnel
# Run: cloudflared tunnel login
#      cloudflared tunnel create acmetech-b2b-tunnel
# Copy the token from: ~/.cloudflared/<tunnel-id>.json
cloudflare_tunnel_token = "eyJhIjoiYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXoxMjM0NTY3ODkwIiwidCI6IjEyMzQ1Njc4OTBhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5eiIsInMiOiJYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWD0ifQ=="

# Your domain for tunnel hostnames
# DNS Setup Required:
#   s3.tunnel.acmetech.com    CNAME  <tunnel-id>.cfargotunnel.com
#   db.tunnel.acmetech.com    CNAME  <tunnel-id>.cfargotunnel.com
#   redis.tunnel.acmetech.com CNAME  <tunnel-id>.cfargotunnel.com
#   api.tunnel.acmetech.com   CNAME  <tunnel-id>.cfargotunnel.com
tunnel_domain = "tunnel.acmetech.com"

# Identity Provider IDs (Zero Trust → Settings → Authentication)
# Example: Google Workspace, Okta, Azure AD
cloudflare_idp_ids = [
  "google-workspace-12345",  # Google Workspace for acmetech.com
  "okta-67890"               # Okta for SSO
]

# ===========================
# Vendor Access Configuration
# ===========================

# Scenario: AcmeTech has 3 vendors:
# 1. DataSync Corp - Daily data uploads to S3
# 2. CloudOps Solutions - Database troubleshooting access
# 3. API Partners Inc - API integration

# Individual vendor email addresses (specific people)
vendor_emails = [
  # DataSync Corp
  "john.smith@datasync-corp.com",      # Lead Engineer
  "sarah.chen@datasync-corp.com",      # Data Analyst

  # CloudOps Solutions
  "mike.johnson@cloudops-solutions.io", # Senior DBA
  "lisa.rodriguez@cloudops-solutions.io", # Support Engineer

  # API Partners Inc
  "alex.kim@apipartners.com",          # Integration Architect
  "emily.watson@apipartners.com"       # DevOps Engineer
]

# Vendor email domains (allow anyone from these companies)
vendor_domains = [
  "datasync-corp.com",        # DataSync Corp (all employees)
  "cloudops-solutions.io",    # CloudOps Solutions (all employees)
  "apipartners.com"           # API Partners Inc (all employees)
]

# ===========================
# AWS Resources Configuration
# ===========================

# Existing RDS Database
database_identifier    = "acmetech-production-postgres"
database_engine_family = "POSTGRESQL"

# Existing Redis Cluster
redis_replication_group_id = "acmetech-production-redis"

# Internal API Endpoint (Application Load Balancer)
internal_api_endpoint = "internal-api-prod-1234567890.us-east-1.elb.amazonaws.com"

# SSH Bastion (optional, for emergency access)
enable_ssh_bastion        = false  # Set to true if you need bastion access
bastion_host_ip           = "10.200.1.10"  # Private IP in b2b-vendors VPC
bastion_security_group_id = "sg-0123456789abcdef0"

# ===========================
# Monitoring & Alarms
# ===========================

# SNS Topic for CloudWatch Alarms
# Create with: aws sns create-topic --name cloudwatch-alarms
alarm_sns_topic_arn = "arn:aws:sns:us-east-1:123456789012:cloudwatch-alarms"
